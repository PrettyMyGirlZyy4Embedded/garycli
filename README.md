<div align="center">

# ğŸ—¡ï¸ GARY CLI: The Spear Carrier

**Piercing the Silicon with AI.**
<br>
*ä¸“ä¸º STM32 æ‰“é€ çš„ AI åŸç”Ÿå‘½ä»¤è¡Œå¼€å‘ä¸è°ƒè¯•æ™ºèƒ½ä½“*

[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Python](https://img.shields.io/badge/Python-3.8+-green.svg)](https://www.python.org/)
[![STM32](https://img.shields.io/badge/STM32-F0%20F1%20F3%20F4-blue.svg)](#supported-chips)
[![Website](https://img.shields.io/badge/Website-garycli.com-success)](https://www.garycli.com)

<br>

```
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
  â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•
  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•šâ–ˆâ–ˆâ•”â•
  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
   â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•
```

**ç”¨è‡ªç„¶è¯­è¨€å¯¹è¯ï¼Œè®© AI ç›´æ¥æ“æ§ä½ çš„ STM32 ç¡¬ä»¶ã€‚**

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [åŠŸèƒ½ç‰¹æ€§](#-æ ¸å¿ƒåŠŸèƒ½) Â· [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) Â· [å‘½ä»¤å‚è€ƒ](#-å‘½ä»¤å‚è€ƒ) Â· [æŠ€èƒ½ç³»ç»Ÿ](#-æŠ€èƒ½ç³»ç»Ÿ-skills) Â· [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

</div>

---

## âš¡ ä»€ä¹ˆæ˜¯ Garyï¼Ÿ

åœ¨ä¼ ç»ŸåµŒå…¥å¼å¼€å‘ä¸­ï¼ŒæŸ¥é˜…æ•°ç™¾é¡µ Reference Manualã€é…ç½®å¯„å­˜å™¨ã€å¤„ç†ç„å­¦æ¥çº¿é—®é¢˜æ¶ˆè€—äº†å·¥ç¨‹å¸ˆ 80% çš„ç²¾åŠ›ã€‚

**Garyï¼ˆæŒçŸ›è€…ï¼‰** ä¸æ˜¯å¦ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨â€”â€”å®ƒæ˜¯ä¸€ä¸ªèƒ½**ç›´æ¥ä»‹å…¥ä½ çš„ç‰©ç†ç¡¬ä»¶**çš„ AI æ™ºèƒ½ä½“ã€‚ä½ åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒGary ä¼šè‡ªåŠ¨å®Œæˆä»ä»£ç ç”Ÿæˆã€äº¤å‰ç¼–è¯‘ã€ç‰©ç†çƒ§å½•åˆ°é”™è¯¯è‡ªæ„ˆçš„**å®Œæ•´é—­ç¯**ã€‚

```
ä½ è¯´ï¼š"å¸®æˆ‘åšä¸€ä¸ª OLED æ˜¾ç¤ºæ¸©æ¹¿åº¦çš„ç¨‹åºï¼Œä¼ æ„Ÿå™¨ç”¨ AHT20"

Gary è‡ªåŠ¨æ‰§è¡Œï¼š
  âœ“ ç”Ÿæˆå®Œæ•´ main.cï¼ˆHAL åº“ + I2C é©±åŠ¨ + OLED æ˜¾ç¤ºï¼‰
  âœ“ arm-none-eabi-gcc äº¤å‰ç¼–è¯‘
  âœ“ é€šè¿‡ä¸²å£/SWD çƒ§å½•åˆ° STM32
  âœ“ ç›‘æ§ä¸²å£è¾“å‡ºï¼ŒéªŒè¯å¯åŠ¨
  âœ“ è¯»å–å¯„å­˜å™¨ç¡®è®¤å¤–è®¾çŠ¶æ€
  âœ— å‘ç° I2C æ— åº”ç­” â†’ è‡ªåŠ¨åˆ†æåŸå›  â†’ ä¿®å¤ä»£ç  â†’ é‡æ–°çƒ§å½•
  âœ“ ç¬¬ 2 è½®æˆåŠŸï¼Œç¨‹åºæ­£å¸¸è¿è¡Œ
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ—£ï¸ è‡ªç„¶è¯­è¨€ â†’ ç¡¬ä»¶æ§åˆ¶

ä¸å†éœ€è¦ç¿» Reference Manualã€‚ç”¨ä¸­æ–‡è¯´å‡ºä½ æƒ³åšä»€ä¹ˆï¼ŒGary ç”Ÿæˆå®Œæ•´å¯ç¼–è¯‘çš„ STM32 HAL C ä»£ç ã€‚

```bash
gary do "PA0 æ¥äº† LEDï¼Œå¸®æˆ‘åšä¸€ä¸ªå‘¼å¸ç¯ï¼ŒPWM é¢‘ç‡ 1kHz"
gary do "ç”¨ I2C1 è¯»å– MPU6050 åŠ é€Ÿåº¦æ•°æ®ï¼Œä¸²å£æ‰“å°"
gary do "é…ç½® TIM2 ç¼–ç å™¨æ¨¡å¼è¯»å–ç”µæœºè½¬é€Ÿ"
```

### ğŸ”„ å…¨è‡ªåŠ¨é—­ç¯è°ƒè¯•

Gary çš„æ ¸å¿ƒèƒ½åŠ›ä¸æ˜¯"ç”Ÿæˆä»£ç "ï¼Œè€Œæ˜¯**è‡ªåŠ¨éªŒè¯å¹¶ä¿®å¤**ï¼š

```
ç¼–è¯‘ â†’ çƒ§å½• â†’ è¯»ä¸²å£ â†’ è¯»å¯„å­˜å™¨ â†’ åˆ†æç»“æœ
  â†‘                                      â†“
  â””â”€â”€â”€â”€ è‡ªåŠ¨ä¿®å¤ä»£ç  â†â”€â”€ å‘ç°é—®é¢˜ â†â”€â”€â”€â”€â”€â”€â”˜
```

- **ç¼–è¯‘å¤±è´¥** â†’ è¯»å– GCC é”™è¯¯ä¿¡æ¯ï¼Œè‡ªåŠ¨ä¿®å¤ä»£ç 
- **HardFault** â†’ åˆ†æ SCB_CFSR/HFSR å¯„å­˜å™¨ï¼Œå®šä½ç²¾ç¡®åŸå› 
- **ç¨‹åºå¡æ­»** â†’ æ£€æŸ¥ SysTickã€I2C æ€»çº¿é”æ­»ã€æ—¶é’Ÿé…ç½®
- **ä¼ æ„Ÿå™¨ä¸å“åº”** â†’ æ£€æµ‹ I2C NACK/ARLOï¼Œåˆ¤æ–­æ˜¯ç¡¬ä»¶æœªæ¥è¿˜æ˜¯åœ°å€é”™è¯¯
- **æœ€å¤š 8 è½®è‡ªåŠ¨ä¿®å¤**ï¼Œä¿®ä¸å¥½ä¼šå‘Šè¯‰ä½ å…·ä½“æ˜¯ä»€ä¹ˆç¡¬ä»¶é—®é¢˜

### âš¡ åŒæ¨¡å¼çƒ§å½•

| | UART ä¸²å£çƒ§å½•ï¼ˆé¦–é€‰ï¼‰ | SWD è°ƒè¯•å™¨çƒ§å½• |
|---|---|---|
| **ç¡¬ä»¶** | USB-TTL è½¬æ¥çº¿ï¼ˆÂ¥5ï¼‰ | ST-Link / J-Linkï¼ˆÂ¥15+ï¼‰ |
| **æ¥çº¿** | 3 æ ¹çº¿ï¼ˆTX/RX/GNDï¼‰ | 4 æ ¹çº¿ï¼ˆSWDIO/SWCLK/GND/3.3Vï¼‰ |
| **æ“ä½œ** | BOOT0â†’1ï¼ŒæŒ‰å¤ä½ | æ’ä¸Šå³ç”¨ |
| **é€Ÿåº¦** | ~10 KB/s | ~50 KB/s |
| **é¢å¤–åŠŸèƒ½** | â€” | è¯»å¯„å­˜å™¨ã€HardFault åˆ†æã€æ–­ç‚¹è°ƒè¯• |

Gary é»˜è®¤**ä¼˜å…ˆä½¿ç”¨ä¸²å£çƒ§å½•**ï¼ˆä¸éœ€è¦ä»»ä½•è°ƒè¯•å™¨ï¼‰ï¼Œé‡åˆ°éœ€è¦è¯»å¯„å­˜å™¨è°ƒè¯•çš„åœºæ™¯è‡ªåŠ¨åˆ‡æ¢åˆ° SWDã€‚

### ğŸ§° å†…ç½®å·¥å…·é›†

| å·¥å…· | ç”¨é€” |
|---|---|
| **PID è‡ªåŠ¨è°ƒå‚** | åˆ†æå“åº”æ›²çº¿ï¼ˆè¶…è°ƒ/æŒ¯è¡/ç¨³æ€è¯¯å·®ï¼‰ï¼Œè‡ªåŠ¨æ¨è Kp/Ki/Kd |
| **I2C æ€»çº¿æ‰«æ** | æ‰«ææ‰€æœ‰è®¾å¤‡åœ°å€ï¼Œè‡ªåŠ¨è¯†åˆ« 100+ å¸¸è§èŠ¯ç‰‡å‹å· |
| **å¼•è„šå†²çªæ£€æµ‹** | é™æ€åˆ†æä»£ç ï¼Œå‘ç°å¼•è„šé‡å¤é…ç½®ã€SWD è¯¯å ç­‰é—®é¢˜ |
| **PWM é¢‘ç‡æ‰«æ** | è‡ªåŠ¨è®¡ç®— PSC/ARRï¼Œç”Ÿæˆé¢‘ç‡æ‰«æè¡¨æµ‹è¯•ç”µæœº/èœ‚é¸£å™¨ |
| **èˆµæœºæ ¡å‡†** | ç”Ÿæˆè§’åº¦æ‰«æä»£ç ï¼Œç²¾ç¡®æ˜ å°„è„‰å®½åˆ°è§’åº¦ |
| **ä¿¡å·é‡‡é›†åˆ†æ** | åˆ†æ ADC/ä¼ æ„Ÿå™¨æ•°æ®çš„å™ªå£°ã€ä¿¡å™ªæ¯”ã€é¢‘ç‡ç‰¹å¾ |
| **å¤–è®¾å†’çƒŸæµ‹è¯•** | ä¸€é”®ç”Ÿæˆ GPIO/UART/I2C/SPI/ADC æœ€å°æµ‹è¯•ä»£ç  |
| **Flash/RAM åˆ†æ** | æ˜¾ç¤ºå›ºä»¶èµ„æºå ç”¨ç‡ï¼Œé¢„è­¦ Flash æº¢å‡º |
| **åŠŸè€—ä¼°ç®—** | åŸºäºä½¿èƒ½çš„å¤–è®¾ä¼°ç®— MCU ç”µæµå’ŒåŠŸè€— |
| **å­—æ¨¡ç”Ÿæˆ** | ä»»æ„ä¸­è‹±æ–‡ â†’ OLED ç‚¹é˜µ C æ•°ç»„ï¼ˆç³»ç»Ÿå­—ä½“æ¸²æŸ“ï¼Œéæ‰‹å†™ï¼‰ |

### ğŸ”Œ Bring Your Own Key

Gary ä¸ç»‘å®šä»»ä½• AI æœåŠ¡å•†ã€‚ä½ çš„ API Keyï¼Œä½ åšä¸»ï¼š

| æœåŠ¡å•† | æ¨¡å‹ | è¯´æ˜ |
|---|---|---|
| DeepSeek | deepseek-chat | æ€§ä»·æ¯”é¦–é€‰ |
| Kimi / Moonshot | kimi-k2.5 | ä¸­æ–‡èƒ½åŠ›å¼º |
| OpenAI | gpt-4o | ç»¼åˆèƒ½åŠ›å¼º |
| Google Gemini | gemini-2.0-flash | å…è´¹é¢åº¦å¤§ |
| é€šä¹‰åƒé—® | qwen-plus | é˜¿é‡Œäº‘ |
| æ™ºè°± GLM | glm-4-flash | å…è´¹ |
| Ollama | qwen2.5-coder:14b | æœ¬åœ°ç¦»çº¿ï¼Œå®Œå…¨ç§æœ‰ |

### ğŸ§© æŠ€èƒ½ç³»ç»Ÿï¼ˆSkillsï¼‰

é€šè¿‡**å¯æ’æ‹”çš„æŠ€èƒ½åŒ…**æ‰©å±• Gary çš„èƒ½åŠ›ï¼š

```bash
/skill install pid_tuner.py              # ä» .py æ–‡ä»¶å®‰è£…
/skill install ~/Downloads/skill.zip     # ä»å‹ç¼©åŒ…å®‰è£…
/skill install https://github.com/xxx    # ä» Git ä»“åº“å®‰è£…
/skill list                               # æŸ¥çœ‹æ‰€æœ‰æŠ€èƒ½
/skill create my_tool "æˆ‘çš„å·¥å…·"          # åˆ›å»ºæ–°æŠ€èƒ½æ¨¡æ¿
/skill export my_tool                     # æ‰“åŒ…åˆ†äº«ç»™åˆ«äºº
```

æ¯ä¸ª Skill åŒ…å«å·¥å…·å‡½æ•° + AI Schema + æç¤ºè¯ï¼Œå®‰è£…å**ç«‹å³ç”Ÿæ•ˆ**ï¼Œæ— éœ€é‡å¯ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…

**Linux / macOS / WSLï¼š**
```bash
curl -fsSL https://www.garycli.com/install.sh | bash
```

**Windowsï¼ˆPowerShell ç®¡ç†å‘˜ï¼‰ï¼š**
```powershell
irm https://www.garycli.com/install.ps1 | iex
```

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
- Python ç¯å¢ƒæ£€æµ‹
- arm-none-eabi-gcc äº¤å‰ç¼–è¯‘å™¨å®‰è£…
- STM32 HAL åº“ä¸‹è½½
- Python ä¾èµ–å®‰è£…ï¼ˆopenai, rich, pyserial, pyocd ç­‰ï¼‰
- ä¸²å£çƒ§å½•å·¥å…·å®‰è£…ï¼ˆstm32loaderï¼‰

### æ‰‹åŠ¨å®‰è£…

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/GaryCLI/gary.git
cd gary

# 2. å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# 3. å®‰è£…äº¤å‰ç¼–è¯‘å™¨
# Ubuntu/Debian:
sudo apt install gcc-arm-none-eabi
# macOS:
brew install --cask gcc-arm-embedded
# Windows: ä» ARM å®˜ç½‘ä¸‹è½½å®‰è£…

# 4. å®‰è£…ä¸²å£çƒ§å½•å·¥å…·ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
pip install stm32loader

# 5. å®‰è£…è°ƒè¯•å™¨é©±åŠ¨ï¼ˆå¯é€‰ï¼‰
pip install pyocd

# 6. ä¸‹è½½ HAL åº“
python3 setup.py --hal

# 7. è¿è¡Œç¯å¢ƒè¯Šæ–­
python3 stm32_agent.py --doctor
```

### é¦–æ¬¡é…ç½®

```bash
# é…ç½® AI åç«¯ï¼ˆäº¤äº’å¼å‘å¯¼ï¼‰
gary config
```

æŒ‰æç¤ºé€‰æ‹©æœåŠ¡å•†ã€è¾“å…¥ API Key å³å¯ã€‚æ¨è DeepSeekï¼ˆä¾¿å®œå¥½ç”¨ï¼‰æˆ– Ollamaï¼ˆå®Œå…¨æœ¬åœ°ï¼‰ã€‚

### ç¯å¢ƒè¯Šæ–­

```bash
gary doctor
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
â–  AI æ¥å£
  âœ“ API Key   sk-abc...xyz
  âœ“ Base URL  https://api.deepseek.com/v1
  âœ“ Model     deepseek-chat
  âœ“ API è¿é€šæ€§  æµ‹è¯•é€šè¿‡

â–  ç¼–è¯‘å·¥å…·é“¾
  âœ“ arm-none-eabi-gcc  arm-none-eabi-gcc (15.1.0) 15.1.0
  âœ“ HAL åº“      STM32F0xx, STM32F1xx, STM32F3xx, STM32F4xx
  âœ“ CMSIS Core

â–  Python ä¾èµ–
  âœ“ openai
  âœ“ rich
  âœ“ prompt_toolkit
  âœ“ pyserial  (å¯é€‰)
  âœ“ pyocd  (å¯é€‰)
  âœ“ stm32loader  (å¯é€‰)

â–  ç¡¬ä»¶æ¢é’ˆ
  âœ“ STM32 STLink V2  (066BFF...)
  âœ“ ä¸²å£ /dev/ttyUSB0

  âœ…  æ‰€æœ‰æ ¸å¿ƒé…ç½®æ­£å¸¸ï¼ŒGary å·²å°±ç»ªï¼
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ¨¡å¼ä¸€ï¼šå•æ¬¡ä»»åŠ¡ï¼ˆgary doï¼‰

ä¸å¯åŠ¨äº¤äº’ç•Œé¢ï¼Œä¸€å¥è¯æ‰§è¡Œå®Œé€€å‡ºï¼š

```bash
# ç”Ÿæˆ + ç¼–è¯‘ï¼ˆæ— ç¡¬ä»¶ï¼‰
gary do "å†™ä¸€ä¸ª WS2812 ç¯å¸¦é©±åŠ¨ï¼Œæ§åˆ¶ 8 é¢— LED è·‘å½©è™¹æ•ˆæœ"

# ç”Ÿæˆ + ç¼–è¯‘ + çƒ§å½•ï¼ˆè¿æ¥ç¡¬ä»¶ï¼‰
gary do "PA0 LED é—ªçƒï¼Œ500ms é—´éš”" --connect

# æŒ‡å®šèŠ¯ç‰‡å‹å·
gary do "è¯»å– ADC ç”µå‹ï¼Œä¸²å£æ‰“å°" --chip STM32F407VET6 --connect
```

### æ¨¡å¼äºŒï¼šäº¤äº’å¼å¯¹è¯ï¼ˆgaryï¼‰

å¯åŠ¨æ²‰æµ¸å¼ TUIï¼ŒæŒç»­å¯¹è¯è¿­ä»£å¼€å‘ï¼š

```bash
gary                        # å¯åŠ¨
gary --connect              # å¯åŠ¨å¹¶è‡ªåŠ¨è¿æ¥ç¡¬ä»¶
gary --chip STM32F407VET6   # æŒ‡å®šèŠ¯ç‰‡å‹å·
```

è¿›å…¥åï¼š

```
Gary > å¸®æˆ‘åšä¸€ä¸ª OLED æ—¶é’Ÿï¼ŒI2C1 æ¥ SSD1306ï¼Œæ˜¾ç¤ºæ—¶åˆ†ç§’

  ğŸ”§ stm32_reset_debug_attempts â†’ è®¡æ•°å™¨å·²é‡ç½®
  ğŸ”§ stm32_hardware_status â†’ chip: STM32F103C8T6, hw_connected: true
  ğŸ”§ stm32_generate_font â†’ ç”Ÿæˆ "0123456789:" å­—æ¨¡
  ğŸ”§ stm32_auto_flash_cycle â†’ ç¼–è¯‘æˆåŠŸ 8.2KBï¼Œçƒ§å½•æˆåŠŸ...
  ä¸²å£è¾“å‡º: Gary:BOOT â†’ OLED Init OK â†’ 12:34:56

âœ“ ç¼–è¯‘çƒ§å½•æˆåŠŸï¼Œ8.2KBã€‚OLED å·²æ˜¾ç¤ºæ—¶é—´ã€‚

Gary > åŠ ä¸€ä¸ªæŒ‰é”®è°ƒæ—¶é—´ï¼ŒPA1 æ¥æŒ‰é”®ï¼ŒçŸ­æŒ‰åˆ‡æ¢æ—¶/åˆ†/ç§’ï¼Œé•¿æŒ‰åŠ 1

  ğŸ”§ str_replace_edit â†’ æ›¿æ¢æŒ‰é”®ç›¸å…³ä»£ç 
  ğŸ”§ stm32_auto_flash_cycle â†’ ç¼–è¯‘æˆåŠŸ 9.1KBï¼Œçƒ§å½•æˆåŠŸ...

âœ“ å·²æ·»åŠ æŒ‰é”®è°ƒæ—¶åŠŸèƒ½ã€‚çŸ­æŒ‰åˆ‡æ¢ä½ï¼Œé•¿æŒ‰+1ã€‚
```

### æ¨¡å¼ä¸‰ï¼šå¢é‡ä¿®æ”¹

Gary ä¼šè®°ä½ä¸Šæ¬¡çš„ä»£ç ã€‚ä½ å¯ä»¥æŒç»­è¿­ä»£ï¼š

```
Gary > LED é—ªçƒå¤ªå¿«äº†ï¼Œæ”¹æˆ 1 ç§’
Gary > æ”¹æˆå…±é˜³æ•°ç ç®¡
Gary > åŠ ä¸€ä¸ªèœ‚é¸£å™¨ï¼ŒæŠ¥è­¦æ—¶å“
Gary > æŠŠ I2C åœ°å€ä» 0x3C æ”¹æˆ 0x3D
```

Gary åªä¿®æ”¹ä½ è¦æ±‚çš„éƒ¨åˆ†ï¼Œä¸ä¼šé‡å†™æ•´ä¸ªç¨‹åºã€‚

---

## ğŸ“‹ å‘½ä»¤å‚è€ƒ

### ç»ˆç«¯å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|---|---|
| `gary` | å¯åŠ¨äº¤äº’å¼å¯¹è¯ç•Œé¢ |
| `gary do "ä»»åŠ¡æè¿°"` | å•æ¬¡ä»»åŠ¡æ¨¡å¼ |
| `gary do "ä»»åŠ¡" --connect` | å•æ¬¡ä»»åŠ¡ + è‡ªåŠ¨è¿æ¥ç¡¬ä»¶ |
| `gary --chip STM32F407VET6` | æŒ‡å®šèŠ¯ç‰‡å‹å· |
| `gary --connect` | å¯åŠ¨å¹¶è¿æ¥ç¡¬ä»¶ |
| `gary config` | é…ç½® AI åç«¯ï¼ˆAPI Key / Modelï¼‰ |
| `gary doctor` | ç¯å¢ƒè¯Šæ–­ï¼ˆæ£€æŸ¥æ‰€æœ‰é…ç½®ï¼‰ |

### äº¤äº’å¼å‘½ä»¤ï¼ˆåœ¨ Gary > æç¤ºç¬¦ä¸‹è¾“å…¥ï¼‰

| å‘½ä»¤ | è¯´æ˜ |
|---|---|
| `/connect [èŠ¯ç‰‡]` | è¿æ¥ SWD è°ƒè¯•å™¨ï¼ˆå¦‚ `/connect STM32F103C8T6`ï¼‰ |
| `/disconnect` | æ–­å¼€ç¡¬ä»¶ |
| `/serial [ç«¯å£] [æ³¢ç‰¹ç‡]` | è¿æ¥ä¸²å£ï¼ˆå¦‚ `/serial /dev/ttyUSB0 115200`ï¼‰ |
| `/serial list` | åˆ—å‡ºå¯ç”¨ä¸²å£ |
| `/chip [å‹å·]` | æŸ¥çœ‹/åˆ‡æ¢èŠ¯ç‰‡ |
| `/flash [uart\|swd\|auto]` | åˆ‡æ¢çƒ§å½•æ¨¡å¼ |
| `/flash status` | æŸ¥çœ‹çƒ§å½•å·¥å…·çŠ¶æ€ |
| `/probes` | åˆ—å‡ºæ‰€æœ‰è°ƒè¯•æ¢é’ˆ |
| `/status` | æŸ¥çœ‹å®Œæ•´ç¡¬ä»¶çŠ¶æ€ |
| `/config` | é…ç½® AI æ¥å£ |
| `/projects` | åˆ—å‡ºå†å²é¡¹ç›® |
| `/skill list` | åˆ—å‡ºå·²å®‰è£…æŠ€èƒ½ |
| `/skill install <æ¥æº>` | å®‰è£…æŠ€èƒ½åŒ… |
| `/skill create <åç§°>` | åˆ›å»ºæŠ€èƒ½æ¨¡æ¿ |
| `/clear` | æ¸…ç©ºå¯¹è¯å†å² |
| `/exit` | é€€å‡º |

---

## ğŸ”§ ç¡¬ä»¶æ¥çº¿

### æœ€ç®€æ–¹æ¡ˆï¼šä»…ä¸²å£ï¼ˆæ¨èå…¥é—¨ï¼‰

åªéœ€ **1 æ ¹ USB-TTL è½¬æ¥çº¿**ï¼ˆCH340/CP2102/FT232ï¼ŒÂ¥5ï¼‰ï¼š

```
USB-TTL          STM32
  TX  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ PA10 (USART1 RX)
  RX  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PA9  (USART1 TX)
  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND
  3.3V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3.3Vï¼ˆè‹¥ STM32 æ— ç‹¬ç«‹ä¾›ç”µï¼‰
```

**çƒ§å½•æ—¶**ï¼šBOOT0 è·³çº¿å¸½æ‹¨åˆ° 1ï¼ˆVCC ä¾§ï¼‰ï¼ŒæŒ‰å¤ä½é”®ã€‚
**è¿è¡Œæ—¶**ï¼šBOOT0 è·³çº¿å¸½æ‹¨åˆ° 0ï¼ˆGND ä¾§ï¼‰ï¼ŒæŒ‰å¤ä½é”®ã€‚

> ğŸ’¡ **è¿›é˜¶**ï¼šå°† DTR æ¥ BOOT0ï¼ˆé€šè¿‡ä¸‰æç®¡ï¼‰ã€RTS æ¥ NRSTï¼ˆä¸² 100nF ç”µå®¹ï¼‰ï¼Œå¯å®ç°å…¨è‡ªåŠ¨çƒ§å½•ï¼Œä¸ç”¨å†æ‹¨è·³çº¿ã€‚

### å®Œæ•´æ–¹æ¡ˆï¼šä¸²å£ + SWD

é¢å¤–åŠ ä¸€ä¸ªè°ƒè¯•å™¨ï¼ˆST-Link V2ï¼ŒÂ¥10ï¼‰ï¼Œå¯ä»¥è¯»å¯„å­˜å™¨ã€åˆ†æ HardFaultï¼š

```
ST-Link           STM32
  SWDIO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PA13
  SWCLK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PA14
  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND
  3.3V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 3.3V

USB-TTL           STM32ï¼ˆä¸²å£ç›‘æ§ï¼‰
  TX  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ PA10
  RX  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PA9
  GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND
```

---

## ğŸ§© æŠ€èƒ½ç³»ç»Ÿ (Skills)

Gary é€šè¿‡å¯æ’æ‹”çš„**æŠ€èƒ½åŒ…**æ‰©å±•åŠŸèƒ½ã€‚æ¯ä¸ª Skill æ˜¯ä¸€ä¸ªæ ‡å‡†ç›®å½•ï¼š

```
~/.gary/skills/
â”œâ”€â”€ pid_tuner/
â”‚   â”œâ”€â”€ skill.json        â† å…ƒä¿¡æ¯ï¼ˆåç§°ã€ç‰ˆæœ¬ã€ä½œè€…ã€ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ tools.py          â† å·¥å…·å‡½æ•°ï¼ˆPythonï¼‰
â”‚   â”œâ”€â”€ schemas.json      â† AI è°ƒç”¨æ ¼å¼ï¼ˆOpenAI Function Callingï¼‰
â”‚   â”œâ”€â”€ prompt.md         â† æ•™ AI ä»€ä¹ˆåœºæ™¯ç”¨è¿™äº›å·¥å…·
â”‚   â””â”€â”€ requirements.txt  â† Python ä¾èµ–
â”œâ”€â”€ uart_flash/
â””â”€â”€ _disabled/            â† å·²ç¦ç”¨çš„æŠ€èƒ½
```

### å®‰è£…æŠ€èƒ½

```bash
# ä» .py æ–‡ä»¶ï¼ˆè‡ªåŠ¨åŒ…è£…æˆ skillï¼‰
/skill install stm32_extra_tools.py

# ä»å‹ç¼©åŒ…
/skill install ~/Downloads/gary_skill_pid_tuner.zip

# ä» Git ä»“åº“
/skill install https://github.com/someone/gary-skill-motor.git

# ä»æœ¬åœ°ç›®å½•
/skill install ~/my_skills/sensor_kit/
```

### ç®¡ç†æŠ€èƒ½

```bash
/skill list                  # åˆ—å‡ºæ‰€æœ‰ï¼ˆå«å·²ç¦ç”¨ï¼‰
/skill info pid_tuner        # æŸ¥çœ‹è¯¦æƒ…
/skill disable pid_tuner     # æš‚æ—¶ç¦ç”¨
/skill enable pid_tuner      # é‡æ–°å¯ç”¨
/skill uninstall pid_tuner   # å¸è½½
/skill reload                # çƒ­é‡è½½å…¨éƒ¨
```

### å¼€å‘è‡ªå·±çš„ Skill

```bash
# 1. ç”Ÿæˆæ¨¡æ¿
/skill create motor_driver "ç›´æµç”µæœº PID æ§åˆ¶å·¥å…·"

# 2. ç¼–è¾‘ç”Ÿæˆçš„æ–‡ä»¶
#    ~/.gary/skills/motor_driver/tools.py     â† å†™å·¥å…·å‡½æ•°
#    ~/.gary/skills/motor_driver/schemas.json â† å†™ AI Schema
#    ~/.gary/skills/motor_driver/prompt.md    â† å†™ä½¿ç”¨æŒ‡å—

# 3. çƒ­é‡è½½
/skill reload

# 4. æ‰“åŒ…åˆ†äº«
/skill export motor_driver
# â†’ gary_skill_motor_driver.zip
```

### Skill å¼€å‘è§„èŒƒ

**tools.py**ï¼ˆå¿…é¡»å¯¼å‡º `TOOLS_MAP`ï¼‰ï¼š

```python
def motor_set_speed(rpm: int) -> dict:
    """è®¾ç½®ç”µæœºè½¬é€Ÿ"""
    return {"success": True, "message": f"ç›®æ ‡è½¬é€Ÿ: {rpm} RPM"}

TOOLS_MAP = {
    "motor_set_speed": motor_set_speed,
}
```

**schemas.json**ï¼ˆOpenAI Function Calling æ ¼å¼ï¼‰ï¼š

```json
[
  {
    "type": "function",
    "function": {
      "name": "motor_set_speed",
      "description": "è®¾ç½®ç›´æµç”µæœºç›®æ ‡è½¬é€Ÿ",
      "parameters": {
        "type": "object",
        "properties": {
          "rpm": {"type": "integer", "description": "ç›®æ ‡è½¬é€Ÿ RPM"}
        },
        "required": ["rpm"]
      }
    }
  }
]
```

**prompt.md**ï¼ˆæ•™ AI æ€ä¹ˆç”¨ï¼‰ï¼š

```markdown
## ç”µæœºæ§åˆ¶
ç”¨æˆ·è¦æ§åˆ¶ç”µæœºæ—¶ï¼Œè°ƒç”¨ motor_set_speed è®¾ç½®ç›®æ ‡è½¬é€Ÿã€‚
```

---

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Gary CLI (TUI)                     â”‚
â”‚              rich + prompt_toolkit                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   AI å¯¹è¯å¼•æ“                         â”‚
â”‚         OpenAI API (æµå¼ + Function Calling)          â”‚
â”‚    DeepSeek â”‚ Kimi â”‚ GPT â”‚ Gemini â”‚ Ollama â”‚ ...    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä»£ç ç”Ÿæˆ     â”‚   ç¼–è¯‘å™¨      â”‚    ç¡¬ä»¶åç«¯            â”‚
â”‚  STM32 HAL   â”‚  GCC Cross   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  C ä»£ç æ¨¡æ¿   â”‚  Compiler    â”‚  â”‚ UART ISP (é¦–é€‰)  â”‚  â”‚
â”‚              â”‚              â”‚  â”‚  stm32loader     â”‚  â”‚
â”‚              â”‚              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚              â”‚              â”‚  â”‚ SWD (å¤‡é€‰)       â”‚  â”‚
â”‚              â”‚              â”‚  â”‚  pyocd           â”‚  â”‚
â”‚              â”‚              â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚              â”‚              â”‚  â”‚ ä¸²å£ç›‘æ§         â”‚  â”‚
â”‚              â”‚              â”‚  â”‚  pyserial        â”‚  â”‚
â”‚              â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æŠ€èƒ½ç³»ç»Ÿ (Skills)                    â”‚
â”‚  PIDè°ƒå‚ â”‚ I2Cæ‰«æ â”‚ PWMæ‰«æ â”‚ å­—æ¨¡ç”Ÿæˆ â”‚ è‡ªå®šä¹‰...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• USB                    â†• USB
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USB-TTL     â”‚          â”‚  ST-Link/J-Link  â”‚
â”‚  (CH340)     â”‚          â”‚  (å¯é€‰)          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ UART                    â”‚ SWD
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STM32 ç›®æ ‡æ¿                    â”‚
â”‚   PA9/PA10 (UART)    PA13/PA14 (SWD)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## <a name="supported-chips"></a> ğŸ“Ÿ æ”¯æŒçš„èŠ¯ç‰‡

| ç³»åˆ— | å…¸å‹å‹å· | Flash | RAM |
|---|---|---|---|
| **STM32F0** | F030F4, F030C8, F072CB | 16-128 KB | 4-16 KB |
| **STM32F1** | F103C8T6 (BluePill), F103RCT6, F103ZET6 | 64-512 KB | 20-64 KB |
| **STM32F3** | F303CCT6, F303RCT6 | 256 KB | 40 KB |
| **STM32F4** | F401CCU6, F407VET6, F411CEU6 | 256-1024 KB | 64-128 KB |

> å…¶ä»–å‹å·ï¼šGary ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„ CMSIS Packï¼ˆé¦–æ¬¡è¿æ¥æ—¶ï¼‰ï¼Œç†è®ºä¸Šæ”¯æŒæ‰€æœ‰ Cortex-M ç³»åˆ—ã€‚

---

## ğŸ’¡ å®æˆ˜ç¤ºä¾‹

### ğŸ”° å…¥é—¨ï¼šLED é—ªçƒ

```
Gary > å¸®æˆ‘åšä¸€ä¸ª LED é—ªçƒï¼ŒPA0 å¼•è„šï¼Œ500ms é—´éš”
```

### ğŸ”¢ æ•°ç ç®¡æ˜¾ç¤º

```
Gary > 4 ä½å…±é˜³æ•°ç ç®¡ï¼ŒPA0-PA7 æ¥æ®µé€‰ï¼ŒPB0-PB3 æ¥ä½é€‰ï¼Œæ˜¾ç¤ºè®¡æ•°å™¨
```

### ğŸ“¡ ä¼ æ„Ÿå™¨è¯»å–

```
Gary > I2C1 æ¥ AHT20 æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼Œä¸²å£æ‰“å°æ¸©åº¦å’Œæ¹¿åº¦
Gary > å†åŠ ä¸ª SSD1306 OLED æ˜¾ç¤ºæ¸©åº¦
```

### ğŸ›ï¸ PID ç”µæœºæ§é€Ÿ

```
Gary > ç›´æµç”µæœº PID é€Ÿåº¦æ§åˆ¶ï¼šTIM2 CH1 è¾“å‡º PWMï¼ŒTIM3 ç¼–ç å™¨è¯»åé¦ˆï¼Œç›®æ ‡ 500rpm
```

Gary ä¼šè‡ªåŠ¨ï¼šç”Ÿæˆ PID ä»£ç  â†’ çƒ§å½• â†’ é‡‡é›†ä¸²å£æ•°æ® â†’ åˆ†æå“åº” â†’ è°ƒå‚ â†’ é‡æ–°çƒ§å½• â†’ å¾ªç¯ç›´åˆ°ç¨³å®šã€‚

### ğŸ” I2C è®¾å¤‡æ’æŸ¥

```
Gary > æˆ‘æ¥äº†å‡ ä¸ª I2C è®¾å¤‡ä½†ä¸ç¡®å®šåœ°å€ï¼Œå¸®æˆ‘æ‰«æä¸€ä¸‹
```

### ğŸµ èœ‚é¸£å™¨éŸ³ä¹

```
Gary > æ— æºèœ‚é¸£å™¨æ¥ PA1ï¼Œå¸®æˆ‘æ’­æ”¾ä¸€æ®µã€Šå°æ˜Ÿæ˜Ÿã€‹
```

### ğŸ–¥ï¸ OLED ä¸­æ–‡æ˜¾ç¤º

```
Gary > OLED æ˜¾ç¤ºä¸­æ–‡"ä½ å¥½ä¸–ç•Œ"ï¼Œå­—ä½“ 16x16
```

Gary è‡ªåŠ¨è°ƒç”¨å­—æ¨¡ç”Ÿæˆå·¥å…·ï¼Œç”¨ç³»ç»Ÿå­—ä½“æ¸²æŸ“çœŸå®ç‚¹é˜µï¼Œä¸æ˜¯æ‰‹å†™æ•°æ®ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
gary/
â”œâ”€â”€ stm32_agent.py          # ä¸»ç¨‹åºï¼ˆTUI + AI å¯¹è¯ + å·¥å…·æ¡†æ¶ï¼‰
â”œâ”€â”€ compiler.py             # GCC äº¤å‰ç¼–è¯‘å™¨å°è£…
â”œâ”€â”€ config.py               # é…ç½®æ–‡ä»¶ï¼ˆAPI Keyã€èŠ¯ç‰‡ã€è·¯å¾„ï¼‰
â”œâ”€â”€ setup.py                # å®‰è£…è„šæœ¬
â”œâ”€â”€ stm32_uart_flash.py     # ä¸²å£ ISP çƒ§å½•æ¨¡å—
â”œâ”€â”€ stm32_extra_tools.py    # æ‰©å±•å·¥å…·é›†ï¼ˆPID/I2C/PWM/ä¿¡å·åˆ†æ...ï¼‰
â”œâ”€â”€ gary_skills.py          # æŠ€èƒ½ç³»ç»Ÿç®¡ç†å™¨
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â””â”€â”€ ~/.gary/                # ç”¨æˆ·æ•°æ®ç›®å½•
    â”œâ”€â”€ skills/             # å·²å®‰è£…æŠ€èƒ½
    â”œâ”€â”€ projects/           # å†å²é¡¹ç›®å­˜æ¡£
    â””â”€â”€ skills_registry.json
```

---

## â“ å¸¸è§é—®é¢˜

### å®‰è£…ç›¸å…³

<details>
<summary><b>Q: arm-none-eabi-gcc å®‰è£…åæ‰¾ä¸åˆ°ï¼Ÿ</b></summary>

ç¡®è®¤å·²åŠ å…¥ PATHï¼š
```bash
which arm-none-eabi-gcc
# è‹¥æ— è¾“å‡ºï¼Œæ‰‹åŠ¨æ·»åŠ ï¼š
export PATH=$PATH:/usr/lib/arm-none-eabi/bin
```
æˆ–è¿è¡Œ `gary doctor` æŸ¥çœ‹è¯Šæ–­ç»“æœã€‚
</details>

<details>
<summary><b>Q: HAL åº“ä¸‹è½½å¤±è´¥ï¼Ÿ</b></summary>

```bash
# æ‰‹åŠ¨ä¸‹è½½
python3 setup.py --hal

# æˆ–æŒ‡å®šç³»åˆ—
python3 setup.py --hal f1 f4
```
</details>

<details>
<summary><b>Q: Windows ä¸Šä¸²å£æƒé™é—®é¢˜ï¼Ÿ</b></summary>

ç¡®è®¤å®‰è£…äº† CH340/CP2102 é©±åŠ¨ã€‚åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­ç¡®è®¤ COM å£å·²è¯†åˆ«ã€‚
</details>

<details>
<summary><b>Q: Linux ä¸Šä¸²å£æ‰“ä¸å¼€ï¼ˆPermission deniedï¼‰ï¼Ÿ</b></summary>

```bash
sudo usermod -aG dialout $USER
newgrp dialout
```
</details>

### ä½¿ç”¨ç›¸å…³

<details>
<summary><b>Q: ä¸²å£çƒ§å½•æ²¡æœ‰å“åº”ï¼Ÿ</b></summary>

æ£€æŸ¥æ¸…å•ï¼š
1. BOOT0 è·³çº¿æ˜¯å¦æ‹¨åˆ° 1ï¼ˆVCC ä¾§ï¼‰ï¼Ÿ
2. æ˜¯å¦æŒ‰äº†å¤ä½é”®ï¼Ÿ
3. TX/RX æ˜¯å¦äº¤å‰è¿æ¥ï¼Ÿï¼ˆTTL-TX â†’ STM32-PA10ï¼‰
4. ä¸²å£æ³¢ç‰¹ç‡æ˜¯å¦ä¸º 115200ï¼Ÿ
</details>

<details>
<summary><b>Q: ç¼–è¯‘æŠ¥é”™ undefined reference to _sbrkï¼Ÿ</b></summary>

ä»£ç ä¸­ç”¨äº† `sprintf`/`printf`/`malloc`ã€‚Gary ç”Ÿæˆçš„ä»£ç ä¸ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œå¦‚æœä½ æ‰‹åŠ¨åŠ äº†ï¼Œæ”¹ç”¨ Gary çš„ `Debug_Print`/`Debug_PrintInt` æ›¿ä»£ã€‚
</details>

<details>
<summary><b>Q: HardFault æ€ä¹ˆæ’æŸ¥ï¼Ÿ</b></summary>

Gary è¿æ¥ SWD åä¼šè‡ªåŠ¨è¯»å– SCB_CFSR å¯„å­˜å™¨åˆ†æã€‚å¸¸è§åŸå› ï¼š
- `PRECISERR`ï¼šè®¿é—®äº†æœªä½¿èƒ½æ—¶é’Ÿçš„å¤–è®¾
- `UNDEFINSTR`ï¼šæ ˆæº¢å‡ºæˆ–å‡½æ•°æŒ‡é’ˆé”™è¯¯
- `IACCVIOL`ï¼šFlash åœ°å€éæ³•
</details>

<details>
<summary><b>Q: å¯ä»¥ç”¨ Ollama æœ¬åœ°æ¨¡å‹å—ï¼Ÿ</b></summary>

å¯ä»¥ã€‚è¿è¡Œ `gary config`ï¼Œé€‰æ‹© Ollamaï¼Œæ¨¡å‹å»ºè®®ç”¨ `qwen2.5-coder:14b` æˆ–æ›´å¤§çš„ã€‚å°æ¨¡å‹ï¼ˆ7Bï¼‰å‡½æ•°è°ƒç”¨èƒ½åŠ›è¾ƒå¼±ã€‚
</details>

<details>
<summary><b>Q: æ”¯æŒ Arduino / ESP32 å—ï¼Ÿ</b></summary>

ç›®å‰ä»…æ”¯æŒ STM32ã€‚ESP32/Arduino æ”¯æŒåœ¨è·¯çº¿å›¾ä¸­ã€‚
</details>

---

## ğŸ—ºï¸ è·¯çº¿å›¾

- [x] STM32F1/F4 å…¨ç³»åˆ—æ”¯æŒ
- [x] UART ä¸²å£çƒ§å½•ï¼ˆå…è°ƒè¯•å™¨ï¼‰
- [x] PID è‡ªåŠ¨è°ƒå‚
- [x] æŠ€èƒ½ç³»ç»Ÿï¼ˆSkillsï¼‰
- [ ] æŠ€èƒ½å¸‚åœºï¼ˆåœ¨çº¿æµè§ˆ/å®‰è£…ç¤¾åŒºæŠ€èƒ½ï¼‰
- [ ] å¯è§†åŒ–æ³¢å½¢ï¼ˆä¸²å£æ•°æ®å®æ—¶ç»˜å›¾ï¼‰
- [ ] ESP32 æ”¯æŒ
- [ ] STM32CubeMX é¡¹ç›®å¯¼å…¥
- [ ] VS Code æ‰©å±•

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ PRï¼ç‰¹åˆ«æ¬¢è¿ä»¥ä¸‹è´¡çŒ®ï¼š

- **æ–°çš„ Skill åŒ…**ï¼šå°†ä½ çš„å·¥å…·å°è£…æˆæ ‡å‡† Skill åˆ†äº«ç»™ç¤¾åŒº
- **èŠ¯ç‰‡æ”¯æŒ**ï¼šé€‚é…æ›´å¤š STM32 ç³»åˆ—çš„å¯„å­˜å™¨åœ°å€è¡¨
- **æ–‡æ¡£ç¿»è¯‘**ï¼šå¸®åŠ©ç¿»è¯‘ä¸ºè‹±æ–‡/å…¶ä»–è¯­è¨€
- **Bug ä¿®å¤**ï¼šä½¿ç”¨ä¸­é‡åˆ°çš„ä»»ä½•é—®é¢˜

### å¼€å‘ Skill å¹¶è´¡çŒ®

```bash
# 1. åˆ›å»º skill æ¨¡æ¿
/skill create my_awesome_tool "æˆ‘çš„å·¥å…·"

# 2. å¼€å‘ & æµ‹è¯•
# ç¼–è¾‘ ~/.gary/skills/my_awesome_tool/ ä¸‹çš„æ–‡ä»¶

# 3. å¯¼å‡º
/skill export my_awesome_tool

# 4. æäº¤ PR åˆ°æœ¬ä»“åº“çš„ skills/ ç›®å½•
```

---

## ğŸ“œ åè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache-2.0 License](https://opensource.org/licenses/Apache-2.0) å¼€æºã€‚

---

<div align="center">

**ğŸ—¡ï¸ Just Gary Do It.**

[å®˜ç½‘](https://www.garycli.com) Â· [GitHub](https://github.com/GaryCLI/gary) Â· [åé¦ˆé—®é¢˜](https://github.com/GaryCLI/gary/issues)

</div>
